<!DOCTYPE html>
<html lang="ko" layout:decorate="~{adm/adminLayout.html}">
<head>
    <meta charset="UTF-8">
    <title>회원 관리</title>
</head>
<body>
<main layout:fragment="main" class="flex-grow flex items-center justify-center">
    <div th:if="${#lists.isEmpty(members)}">
        <h1 class="mb-5 text-3xl font-bold">회원이 존재하지 않습니다.</h1>
    </div>
    <div th:if="${!#lists.isEmpty(members)}" class="min-h-screen max-w-2xl w-full">
        <table class="table" th:if="${!#lists.isEmpty(members)}">
            <tbody>
            <tr th:each="member: ${members}">
                <td th:if="${member.getDeleteDate() != null}">
                    <div class="join join-vertical w-full">
                        <div class="collapse collapse-arrow join-item border border-base-300">
                            <input type="radio" name="my-accordion-4" checked="checked"/>
                            <div class="collapse-title font-medium">
                                <p>삭제된 유저 입니다.</p>
                            </div>
                            <div class="collapse-content">
                                <p class="mb-1"><span>이름: </span><span th:text="${member.getUsername()}"></span></p>
                                <p class="mb-1"><span>ID: </span><span th:text="${member.getId()}"></span></p>
                                <p class="mb-1"><span>지역: </span><span th:text="${member.getBigDistrict()}"></span></p>
                                <p class="mb-1"><span>이메일: </span><span th:text="${member.getEmail()}"></span></p>
                                <p class="mb-1"><span>휴대번호: </span><span
                                        th:text="${member.getPhoneNumber()}"></span></p>
                                <p class="mb-1"><span>생성날짜: </span><span
                                        th:text="${member.getCreatedDate()}"></span></p>
                                <div class="flex justify-end">
                                    <button class="btn">삭제 하기</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </td>
                <td th:if="${member.getDeleteDate() == null}">
                    <div class="join join-vertical w-full">
                        <div class="collapse collapse-arrow join-item border border-base-300">
                            <input type="radio" name="my-accordion-4" checked="checked"/>
                            <div class="collapse-title font-medium">
                                <p th:text="${member.getUsername()}"></p>
                            </div>
                            <div class="collapse-content">
                                <p class="mb-1"><span>ID: </span><span th:text="${member.getId()}"></span></p>
                                <p class="mb-1"><span>지역: </span><span th:text="${member.getBigDistrict()}"></span></p>
                                <p class="mb-1"><span>이메일: </span><span th:text="${member.getEmail()}"></span></p>
                                <p class="mb-1"><span>휴대번호: </span><span
                                        th:text="${member.getPhoneNumber()}"></span></p>
                                <p class="mb-1">
                                    <span>권한: </span><span th:text="${member.getAuthorities()}"></span>
                                </p>
                                <p class="mb-1"><span>생성날짜: </span><span
                                        th:text="${member.getCreatedDate()}"></span></p>
                                <div class="flex justify-end">
                                    <a th:href="@{/adm/deleteMember/{id}(id=${member.getId()})}" class="btn">삭제
                                        하기</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</main>
</body>
</html>